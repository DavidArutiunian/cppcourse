#ifndef CPPCOURSE_EVENTLOOP_H
#define CPPCOURSE_EVENTLOOP_H

#include <SFML/Graphics.hpp>

#include "Line.h"
#include "consts.h"

class EventLoop
{
private:
  Line line; // Instance of line
  sf::RenderWindow window; // Instance of window
  sf::Vector2f mousePosition; // Current mouse position

public:
  ////////////////////////////////////////////////////////////
  /// \brief Construct eventloop instance
  ///
  /// \param line Vertex line
  ////////////////////////////////////////////////////////////
  explicit EventLoop(Line &line);

  ////////////////////////////////////////////////////////////
  /// \brief Update event
  ///
  /// Updates current state of program
  ///
  /// \return Current instance
  ////////////////////////////////////////////////////////////
  EventLoop &update();

  ////////////////////////////////////////////////////////////
  /// \brief Poll events
  ///
  /// \return Current instance
  ////////////////////////////////////////////////////////////
  EventLoop &pollEvents();

  ////////////////////////////////////////////////////////////
  /// \brief Redraw frame
  ///
  /// Draw current program state
  ///
  /// \return Current instance
  ////////////////////////////////////////////////////////////
  EventLoop &redrawFrame();

  ////////////////////////////////////////////////////////////
  /// \brief Create window
  ///
  /// \return RenderWindow instance
  ////////////////////////////////////////////////////////////
  sf::RenderWindow &createWindow();

  ////////////////////////////////////////////////////////////
  /// \brief Print length of line to stdout
  ////////////////////////////////////////////////////////////
  void printLength();

  ////////////////////////////////////////////////////////////
  /// \brief Initialize new state
  ////////////////////////////////////////////////////////////
  void init();

};


#endif //CPPCOURSE_EVENTLOOP_H
